import"./modulepreload-polyfill-B5Qt9EMX.js";import{S as f,j as p}from"./s2-playable-Bdq8E5_G.js";import{B as y,S as C}from"./base-memory-scene-Cgv4Gk36.js";import{S as b,t as k}from"./s2-code-DjLR-8B-.js";import{l as L,r as A,s as x,c as M}from"./radix-colors-dark-TbHFpvSs.js";import"./s2-lerp-anim-CJb7usyt.js";import"./s2-step-animator-B7uTbjFC.js";const I="Etat de la m√©moire : instructions simples 1",V=`**type:int** **fn:main**(**type:void**) {
    **type:int** **var:a** = **num:10**, **var:b** = **num:5**;
    **type:char** **var:c**, **var:d**, **var:e**, **var:f** = **str:'s'**;
    **var:a** = **var:b** + **num:2**;
    **var:b** += **var:a**;
    **var:c** = **var:d** = **var:f**;
    **var:e** = **var:f** - **num:1**;
    **var:a**++;
    **var:b**--;
    **kw:return** **num:0**;
}`;class H extends y{memory;code;constructor(e){super(e),this.code=new b(this),this.code.setParent(this.getSVG()),this.setDefaultCodeStyle(this.code),this.code.setContent(k(V));const n=10;this.memory=new C(this,n,{isStacked:!0,addressStart:64,addressPrefix:"@",addressRadix:10}),this.memory.setParent(this.getSVG()),this.setDefaultMemoryStyle(this.memory),this.update(),this.createAnimation()}createAnimation(){this.animator.makeStep();const e=p.fromHex(L[12]),n=p.fromHex(A[11]),r=p.fromHex(x[10]),m=p.fromHex(M[10]);let i=1;this.code.animateSetCurrentLine(i++,this.animator);const c=this.memory.createMemoryId(),u=this.memory.createMemoryId();let t=this.animator.createLabelAtCurrentTime();c.animateSetNameAndValue("a","10",this.animator,{label:t,valueColor:e}),u.animateSetNameAndValue("b","5",this.animator,{label:t,offset:200,valueColor:e}),this.animator.makeStep(),this.update(),this.code.animateSetCurrentLine(i++,this.animator);const l=this.memory.createMemoryId(),s=this.memory.createMemoryId(),S=this.memory.createMemoryId(),h=this.memory.createMemoryId();t=this.animator.createLabelAtCurrentTime(),l.animateSetNameAndValue("c","?",this.animator,{label:t,offset:100,valueColor:n}),s.animateSetNameAndValue("d","?",this.animator,{label:t,offset:200,valueColor:n}),S.animateSetNameAndValue("e","?",this.animator,{label:t,offset:300,valueColor:n}),h.animateSetNameAndValue("f","115",this.animator,{label:t,offset:400,valueColor:e}),this.animator.makeStep(),this.update(),this.code.animateSetCurrentLine(i++,this.animator),c.animateSetValue("7",this.animator,{color:e}),this.animator.makeStep(),this.update(),this.code.animateSetCurrentLine(i++,this.animator),u.animateSetValue("12",this.animator,{color:e}),this.animator.makeStep(),this.update(),this.code.animateSetCurrentLine(i++,this.animator),t=this.animator.createLabelAtCurrentTime();let d=this.code.createTokenHighlight([{lineIndex:i-1,content:"d"},{lineIndex:i-1,content:"f"}],m);d.animateFadeIn(this.animator,{label:t}),h.animateHighlightIn(this.animator,{label:t,offset:100,color:m}),s.animateHighlightIn(this.animator,{label:t,offset:200,color:m}),s.animateCopyValue(h,this.animator,{color:e}),this.animator.makeStep(),this.update(),t=this.animator.createLabelAtCurrentTime(),d.animateFadeOut(this.animator,{label:t}),d=this.code.createTokenHighlight([{lineIndex:i-1,content:"c"},{lineIndex:i-1,content:"d"}],m),d.animateFadeIn(this.animator,{label:t}),h.animateHighlightOut(this.animator,{label:t,offset:100}),l.animateHighlightIn(this.animator,{label:t,offset:200,color:m}),l.animateCopyValue(s,this.animator,{color:e}),this.animator.makeStep(),this.update(),t=this.animator.createLabelAtCurrentTime(),d.animateFadeOut(this.animator,{label:t}),s.animateHighlightOut(this.animator,{label:t,offset:100}),l.animateHighlightOut(this.animator,{label:t,offset:200}),this.code.animateSetCurrentLine(i++,this.animator),S.animateSetValue("114",this.animator,{color:e}),this.animator.makeStep(),this.update(),this.code.animateSetCurrentLine(i++,this.animator),c.animateSetValue("8",this.animator,{color:e}),this.animator.makeStep(),this.update(),this.code.animateSetCurrentLine(i++,this.animator),u.animateSetValue("11",this.animator,{color:e}),this.animator.makeStep(),this.update(),this.code.animateSetCurrentLine(i++,this.animator),this.animator.makeStep(),this.update(),this.code.animateSetCurrentLine(i++,this.animator),t=this.animator.createLabelAtCurrentTime(),h.animateColor(r,this.animator,{label:t}),S.animateColor(r,this.animator,{label:t}),s.animateColor(r,this.animator,{label:t}),l.animateColor(r,this.animator,{label:t}),u.animateColor(r,this.animator,{label:t}),c.animateColor(r,this.animator,{label:t}),this.animator.makeStep(),this.update()}}const v=document.querySelector("#app");v&&(v.innerHTML=`
        <div>
            <h1>${I}</h1>
            <svg xmlns="http://www.w3.org/2000/svg" id=test-svg class="responsive-svg" preserveAspectRatio="xMidYMid meet"></svg>
            <div class="figure-nav">
                <div>Animation : <input type="range" id="slider" min="0" max="100" step="1" value="0" style="width:50%"></div>
                <button id="reset-button"><i class="fa-solid fa-backward-fast"></i></button>
                <button id="prev-button"><i class="fa-solid fa-step-backward"></i></button>
                <button id="play-button"><i class="fa-solid fa-redo"></i></button>
                <button id="next-button"><i class="fa-solid fa-step-forward"></i></button>
                <button id="full-button"><i class="fa-solid fa-play"></i></button>
            </div>
        </div>`);const g=v?.querySelector("#test-svg"),o=document.querySelector("#slider");if(g&&o){const a=new H(g);let e=-1;a.animator.reset(),document.querySelector("#reset-button")?.addEventListener("click",()=>{e=-1,a.animator.stop(),a.animator.reset(),o.value="0"}),document.querySelector("#prev-button")?.addEventListener("click",()=>{e=f.clamp(e-1,0,a.animator.getStepCount()-1),a.animator.resetStep(e),a.update();const r=a.animator.getStepStartTime(e)/a.animator.getMasterDuration();o.value=(r*100).toString()}),document.querySelector("#next-button")?.addEventListener("click",()=>{e=f.clamp(e+1,0,a.animator.getStepCount()-1),a.animator.playStep(e);const r=a.animator.getStepStartTime(e)/a.animator.getMasterDuration();o.value=(r*100).toString()}),document.querySelector("#play-button")?.addEventListener("click",()=>{a.animator.playStep(e)}),document.querySelector("#full-button")?.addEventListener("click",()=>{a.animator.playMaster(),o.value="0"}),o.addEventListener("input",()=>{const r=o.valueAsNumber/100*a.animator.getMasterDuration();a.animator.stop(),a.animator.setMasterElapsed(r),e=a.animator.getStepIndexFromElapsed(r),a.getSVG().update()})}
