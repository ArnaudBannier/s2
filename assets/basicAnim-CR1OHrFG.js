import"./modulepreload-polyfill-B5Qt9EMX.js";import{S as m,a as u,f as n}from"./s2-playable-oj1sxusA.js";import{S}from"./s2-step-animator-BdDE_VNr.js";import{S as c}from"./s2-lerp-anim-CFgMTWjr.js";import{S as y}from"./s2-anim-group-BKxuPOvU.js";import{S as g}from"./s2-color-theme-C5HLvbcQ.js";import{r as f,c as v,s as b}from"./radix-colors-dark-TbHFpvSs.js";const k="Animation simple";let h;h={back:b,primary:v,secondary:f};const s=new g(h);class w extends u{circle;path;animator;setCircleDefaultStyle(t){const a=t.data;a.fill.color.setFromTheme(s,"primary",5),a.stroke.color.setFromTheme(s,"primary",7),a.stroke.width.set(4,this.getViewSpace()),a.fill.opacity.set(1),a.radius.set(1,this.getWorldSpace())}setPathDefaultStyle(t){const a=t.data;a.space.set(this.getWorldSpace()),a.stroke.lineCap.set("round"),a.stroke.width.set(6,this.getViewSpace()),a.stroke.color.setFromTheme(s,"primary",9)}constructor(t){super(t),this.camera.setExtents(8,4.5),this.setViewportSize(640*1.5,360*1.5),this.animator=new S(this);const a=this.getViewSpace(),i=this.getWorldSpace();this.addFillRect().data.color.setFromTheme(s,"back",2);const o=this.addWorldGrid();o.data.stroke.color.setFromTheme(s,"back",4),o.data.geometry.boundA.set(-7,-4,i),o.data.geometry.boundB.set(7,4,i),o.data.geometry.space.set(i),o.data.stroke.width.set(2,a),this.path=this.addPath(),this.setPathDefaultStyle(this.path),this.path.moveTo(-5,0).cubicTo(0,-4,0,-4,5,0).cubicTo(0,4,0,4,-5,0),this.path.data.pathFrom.set(0),this.path.data.pathTo.set(0),this.circle=this.addCircle(),this.setCircleDefaultStyle(this.circle),this.circle.data.position.set(0,0,i),this.circle.data.opacity.set(0);const d=this.path.createArrowTip();d.setParent(this.getSVG()),d.setTipInset(.25).setReversed(!1).setAnchorAlignment(0),this.update(),this.createAnimation()}createAnimation(){let t=c.create(this,this.path.data.pathTo).setCycleDuration(2e3).setEasing(n.inOut);this.path.data.pathTo.set(1),t.commitFinalState(),this.animator.addAnimation(t),t=c.create(this,this.path.data.pathFrom).setCycleDuration(1e3).setEasing(n.inOut),this.path.data.pathFrom.set(.8),this.animator.addAnimation(t.commitFinalState(),"previous-start",1e3),this.animator.makeStep(),this.animator.enableElement(this.circle,!0),t=c.create(this,this.circle.data.opacity).setCycleDuration(500).setEasing(n.inOut),this.circle.data.opacity.set(1),this.animator.addAnimation(t.commitFinalState()),this.animator.makeStep();const a=new y(this).addLerpProperties([this.circle.data.position,this.circle.data.fill.color,this.circle.data.stroke.color,this.circle.data.stroke.color,this.path.data.stroke.color],600,n.inOut).setCycleCount(3).setAlternate(!0);t=c.create(this,this.circle.data.radius).setCycleDuration(1800).setEasing(n.inOut),this.circle.data.position.set(-2,0,this.getWorldSpace()),this.circle.data.fill.color.setFromTheme(s,"secondary",5),this.circle.data.stroke.color.setFromTheme(s,"secondary",7),this.circle.data.radius.set(20,this.getViewSpace()),this.path.data.stroke.color.setFromTheme(s,"secondary",9),this.animator.addAnimation(a.commitLerpFinalStates()),this.animator.addAnimation(t.commitFinalState(),"previous-start",0),this.animator.makeStep(),this.animator.finalize()}}const l=document.querySelector("#app");l&&(l.innerHTML=`
        <div>
            <h1>${k}</h1>
            <svg xmlns="http://www.w3.org/2000/svg" id=test-svg class="responsive-svg" preserveAspectRatio="xMidYMid meet"></svg>
            <div class="figure-nav">
                <div>Animation : <input type="range" id="slider" min="0" max="100" step="1" value="0" style="width:50%"></div>
                <button id="reset-button"><i class="fa-solid fa-backward-fast"></i></button>
                <button id="prev-button"><i class="fa-solid fa-step-backward"></i></button>
                <button id="play-button"><i class="fa-solid fa-redo"></i></button>
                <button id="next-button"><i class="fa-solid fa-step-forward"></i></button>
                <button id="full-button"><i class="fa-solid fa-play"></i></button>
            </div>
        </div>`);const p=l?.querySelector("#test-svg"),r=document.querySelector("#slider");if(p&&r){const e=new w(p);let t=-1;e.animator.reset(),document.querySelector("#reset-button")?.addEventListener("click",()=>{t=-1,e.animator.stop(),e.animator.reset(),r.value="0"}),document.querySelector("#prev-button")?.addEventListener("click",()=>{t=m.clamp(t-1,0,e.animator.getStepCount()-1),e.animator.resetStep(t),e.update();const i=e.animator.getStepStartTime(t)/e.animator.getMasterDuration();r.value=(i*100).toString()}),document.querySelector("#next-button")?.addEventListener("click",()=>{t=m.clamp(t+1,0,e.animator.getStepCount()-1),e.animator.playStep(t);const i=e.animator.getStepStartTime(t)/e.animator.getMasterDuration();r.value=(i*100).toString()}),document.querySelector("#play-button")?.addEventListener("click",()=>{e.animator.playStep(t)}),document.querySelector("#full-button")?.addEventListener("click",()=>{e.animator.playMaster(),r.value="0"}),r.addEventListener("input",()=>{const i=r.valueAsNumber/100*e.animator.getMasterDuration();e.animator.stop(),e.animator.setMasterElapsed(i),t=e.animator.getStepIndexFromElapsed(i),e.getSVG().update()})}
